plugins {
    id 'java-library'
	   id 'com.github.johnrengelman.shadow' version '6.1.0'
}
import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar

repositories {
	mavenLocal()
	mavenCentral()
}

// Use 'gradle dependencies --configuration testCompileClasspath' to see dependencies
dependencies {
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Core/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Javassist/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Jdom/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Html/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Swt/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Test/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/Brownies-Tools/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/MagicTest-NG/build/classes/java/main"))
	testImplementation(files("C:/dev/Java/Sources/magicwerk.origo/Java/Brownies/MagicTest/build/classes/java/main"))
 
 testImplementation "junit:junit:4.8.2"
 testImplementation "com.google.guava:guava-testlib:31.1-jre"
	testImplementation "com.github.javaparser:javaparser-core:3.24.0"	
	
	testImplementation 'com.melloware:jintellitype:1.3.9:dll-x64' 
	testImplementation 'org.apache.commons:commons-collections4:4.0'
	testImplementation 'org.javolution:javolution-core-java:6.0.0'
	testImplementation 'it.unimi.dsi:fastutil:7.0.9'
	
	testImplementation 'org.slf4j:slf4j-api:1.7.4'
 testImplementation 'ch.qos.logback:logback-classic:1.0.11'
 testImplementation 'ch.qos.logback:logback-core:1.0.11'
	testImplementation 'org.apache.commons:commons-lang3:3.12.0'
	testImplementation 'de.schlichtherle.truezip:truezip-file:7.7.10'
	testImplementation 'de.schlichtherle.truezip:truezip-path:7.7.10'
	testImplementation 'de.schlichtherle.truezip:truezip-driver-zip:7.7.10'
	testImplementation 'org.javassist:javassist:3.28.0-GA'
	testImplementation 'org.jdom:jdom2:2.0.6' 
	testImplementation 'org.openjdk.jmh:jmh-core:1.33'
}

	shadowJar {
   mergeServiceFiles()
	}

	task shadowTestJar(type: ShadowJar) {
   mergeServiceFiles()
 
	  exclude('META-INF/INDEX.LIST', 'META-INF/*.SF', 'META-INF/*.DSA', 'META-INF/*.RSA')

  archiveClassifier.set("test-all")
  from sourceSets.main.output, sourceSets.test.output
  configurations = [project.configurations.testRuntimeClasspath]
	}
